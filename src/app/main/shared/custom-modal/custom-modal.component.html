
<button class="btn btn-primary ml-1" rippleEffect (click)="openModal(modalBasic)">
    <i data-feather="plus" class="mr-0 mr-sm-1"></i>
    <span class="d-none d-sm-inline-block">Upload</span>
</button>

<ng-template #modalBasic let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="myModalLabel1">Upload File</h4>
      <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body" tabindex="0" ngbAutofocus>

        <form action="#" class="invoice-repeater" #docForm="ngForm" (ngSubmit)="saveForm(docForm)">
            <!-- Template Names -->
            <label>Template Name</label>
            <div class="form-group">
              <ng-select
                [items]="templateNames"
                [addTag]="true"
                bindLabel="name"
                placeholder="Select template"
                [(ngModel)]="selectedTemplateName"
                name="selectedTemplateName"
                (change)="templateNameSelected($event)"
              >
                <ng-template ng-label-tmp let-item="item" let-clear="clear">
                  <span class="ng-value-label"> {{ item }}</span>
                  <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                </ng-template>
              </ng-select>
            </div>   

            <ng-container *ngIf="selectedTemplateName">
                <!-- Document Type -->
                <label>Document Type</label>
                <div class="form-group">
                    <ng-select
                    [items]="docTypeNames"
                    [addTag]="true"
                    bindLabel="name"
                    placeholder="Select tag"
                    [(ngModel)]="selectedDocumentType"
                    name="selectedDocumentType"
                    (change)="docTypeSelected($event)"
                    >
                    <ng-template ng-label-tmp let-item="item" let-clear="clear">
                        <span class="ng-value-label"> {{ item }}</span>
                        <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                    </ng-template>
                    </ng-select>
                </div>
                
                <!-- Document State -->
                <label>Document State</label>
                <br/>
                <div *ngFor="let state of availableDocState;" class="form-check form-check-inline">
                    <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio1"
                    value="state.name"
                    />
                    <label class="form-check-label" for="inlineRadio1">{{state.name}}</label>
                </div>

                <!-- Document Source -->
                <div class="form-group">
                    <label>Document Source: {{this.selectedDocSource}}</label>
                </div>

                <!-- Document Class -->
                <div class="form-group">
                    <label>Document Class: {{this.selectedDocClass}}</label>
                </div>

                <!-- Property from Document Type -->
                <div class="form-group">
                    <div *ngFor="let item of selectedProperties | keyvalue; let m = index">
                        <div class="row d-flex align-items-end">
                            <div class="col-md-4 col-12">
                                <div class="form-group">
                                <label for="title{{ m }}">{{item.value.name}}</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    name="title{{ m }}"
                                    id="title{{ m }}"
                                    placeholder="{{item.value.name}}"
                                />
                                </div>
                            </div>                       
                        </div>
                    </div>
                </div>

                <div class="form-group" *ngIf="selectedMetaTags">
                    <label>Meta Tags: {{this.selectedMetaTags}}</label>
                </div>

                <div class="form-group">
                  <app-file-upload></app-file-upload>
                </div>
                
            </ng-container>
            <!-- Document Tags -->
        </form>


    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="modal.close('Accept click')" rippleEffect>
        Save
      </button>
    </div>
  </ng-template>